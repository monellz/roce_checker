
多机测试Roce

controll.py控制并发

每个script测试一项



大致流程：
1. 调用nopassword_check.sh IP测试节点是否免密登陆
    1) 只有master stdout输出
    2) 脚本返回1 表示失败 0->成功
2. 调用env_check.sh IP TARGET_DIR OUTPUT_DIR测试节点环境
    1) slave stdout的输出会被重定向到 ${TARGET_DIR}/${IP}.env_check.result，然后scp回master节点在OUTPUT_DIR下保存
    2) 脚本返回1 表示失败 0->成功
3. 调用setup.sh IP TARGET_DIR OUTPUT_DIR传输必要的脚本到节点上
    1) 会在对应节点上${TARGET_DIR}下复制文件，生成文件等
    2) slave stdout上会输出详细信息，会被重定向到${TARGET_DIR}/${IP}.setup.result，然后scp回master节点在OUTPUT_DIR下保存
    3) 脚本返回1 表示失败 0->成功
4. 调用connection_check.sh IP1 IP2 OUTPUT_DIR 测试两个节点的连通性
    1) slave stdout上会输出详细信息，重定向到${TARGET_DIR}/${IP}.connection_check.result，然后scp会master节点在OUTPUT_DIR下保存
    2) 脚本返回1 表示失败 0->成功
5. 调用xxx_test.sh IP1 IP2 TARGET_DIR OUTPUT_DIR进行实际测试
    1) IP1和IP2上${TARGET_DIR}会保存测试的最详细的输出文件${IP1}-${IP2}.xxx.detail.result，节点会进行适当的parse得到精简的信息保存到${IP1}-${IP2}.xxx.result，然后这些文件会scp到master节点OUTPUT_DIR下保存
    2) 脚本返回1 表示失败 0->成功

